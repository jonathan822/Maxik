<ion-toolbar style="text-align: center;" *ngIf="paginaActual == 'CarritoPag'">
  <ion-button (click)=cerrar() class="btnCerrar" slot="start">
    <ion-icon slot="icon-only" name="arrow-back-outline" style="color: rgb(255, 167, 2);"></ion-icon>
  </ion-button>
  <ion-label style="color: rgb(255, 167, 2); margin-left: -50px;">Carrito de compra</ion-label>
</ion-toolbar>

<ion-toolbar style="text-align: center;" *ngIf="paginaActual == 'ConfirmarCompra'">
  <ion-button (click)="paginaActual = 'CarritoPag'" class="btnCerrar" slot="start" *ngIf="!animacion">
    <ion-icon slot="icon-only" name="arrow-back-outline" style="color: rgb(255, 167, 2);"></ion-icon>
  </ion-button>
  <ion-label style="color: rgb(255, 167, 2); margin-left: -50px;" *ngIf="!animacion">Confirmar Compra</ion-label>
  <ion-label style="color: rgb(61, 126, 0);" *ngIf="animacion">Compra Realizada</ion-label>
</ion-toolbar>

<ion-content *ngIf="paginaActual == 'CarritoPag'">
  <div class="tarjetaProducto" *ngFor="let i of carrito">
    <ion-row class="filaProducto">
      <ion-col size="1">
        <ion-icon (click)="btnEliminar(i.id)" style="font-size: 25px; color: rgb(82, 82, 82);" name="close-outline">
        </ion-icon>
      </ion-col>
      <ion-col class="columnaImagen" size="5">
        <ion-img class="imagenProducto" src="assets/cocacola.jpg"></ion-img>
      </ion-col>
      <ion-col>
        <ion-label>
          {{i.nombre}} <br>
          $ {{i.precio * i.cantidad}} <br>
        </ion-label>
      </ion-col>
      <ion-col>
        <ion-icon class="iconos" style="font-size: 25px; " name="remove-circle-outline"
          (click)="restar(i.id, i.cantidad)"></ion-icon>
        <ion-label style="position: relative ; bottom: 5px">{{i.cantidad}}</ion-label>
        <ion-icon class="iconos" style="font-size: 25px;" name="add-circle-outline" (click)="sumar(i.id, i.cantidad)">
        </ion-icon>
      </ion-col>
    </ion-row>
  </div>

  <div *ngIf="carrito.length == 0" style="text-align: center;">
    <h2 style="color: rgb(218, 218, 218);">El carrito <br> se encuentra vacio</h2>
  </div>

</ion-content>

<ion-content *ngIf="paginaActual == 'ConfirmarCompra'">


  <ion-list style="background: rgba(255, 255, 255, 0);" *ngIf="!animacion">
    <ion-radio-group style="--background: rgba(255, 255, 255, 0);  color: black;" [(ngModel)]="metodoDePago">
      <ion-list-header>
        <ion-label style="color: black;">Seleccione metodo de pago:</ion-label>
      </ion-list-header>

      <ion-item style="--background: rgba(255, 255, 255, 0); color: black;" lines="none">
        <ion-label>Tarjeta de Debito</ion-label>
        <ion-radio slot="start" value="debito"></ion-radio>
      </ion-item>

      <ion-item style="--background: rgba(255, 255, 255, 0); color: black;" lines="none">
        <ion-label>Sodexo</ion-label>
        <ion-radio slot="start" value="sodexo"></ion-radio>
      </ion-item>

      <ion-item style="--background: rgba(255, 255, 255, 0); color: black;" lines="none">
        <ion-label>Billetera digital</ion-label>
        <ion-radio slot="start" value="sodexo"></ion-radio>
      </ion-item>
    </ion-radio-group>
  </ion-list>


  <div class="success-checkmark" *ngIf="animacion" style="margin-top: 20%">
    <div class="check-icon">
      <span class="icon-line line-tip"></span>
      <span class="icon-line line-long"></span>
      <div class="icon-circle"></div>
      <div class="icon-fix"></div>
    </div>
  </div>

  <div class="myclass">
    <img src="assets/QRexample.png" style="width:200px; height:200px; margin: auto;" *ngIf="animacion">
  </div>
  

</ion-content>



<ion-footer class="ion-no-border" *ngIf="paginaActual == 'CarritoPag'">
  <ion-button expand="full" (click)="paginaActual = 'ConfirmarCompra'" *ngIf="subtotal != 0"
    style="margin-left: 0; margin-right: 0; margin-bottom: 0; height: 100%; --background: rgb(255, 187, 0); --box-shadow: none;">
    <p style="margin: auto">REALIZAR COMPRA <br>$ {{subtotal}}
    </p>
  </ion-button>
  <ion-button expand="full" *ngIf="subtotal == 0"
    style="margin-left: 0; margin-right: 0; margin-bottom: 0; height: 100%; --background: rgb(255, 229, 158); --box-shadow: none;">
    <p style="margin: auto">REALIZAR COMPRA <br>$ {{subtotal}}
    </p>
  </ion-button>
</ion-footer>

<ion-footer class="ion-no-border" *ngIf="paginaActual == 'ConfirmarCompra' && !animacion">
  <ion-button expand="full" *ngIf="!metodoDePago"
    style="margin-left: 0; margin-right: 0; margin-bottom: 0; height: 100%; --background: rgb(107, 136, 91); --box-shadow: none;">
    <p style="margin: auto">CONFIRMAR COMPRA <br>$ {{subtotal}}
    </p>
  </ion-button>
  <ion-button expand="full" (click)="confirmarCompra()" *ngIf="metodoDePago"
    style="margin-left: 0; margin-right: 0; margin-bottom: 0; height: 100%; --background: rgb(72, 141, 33); --box-shadow: none;">
    <p style="margin: auto">CONFIRMAR COMPRA <br>$ {{subtotal}}
    </p>
  </ion-button>
</ion-footer>